(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["datadog/browser-rum"],{e2b9:function(t,e,n){"use strict";n.d(e,"a",(function(){return yn}));var r,i,o,a=n("5a6e"),c=n("9a42"),u=n("380d"),s=n("c8e5"),d=n("9d52"),f=n("269d"),l=n("77c7"),p=n("0563"),E=n("7c11");(function(t){t["ACTION"]="action",t["ERROR"]="error",t["LONG_TASK"]="long_task",t["VIEW"]="view",t["RESOURCE"]="resource"})(r||(r={})),function(t){t["INITIAL_LOAD"]="initial_load",t["ROUTE_CHANGE"]="route_change"}(i||(i={})),function(t){t["CLICK"]="click",t["CUSTOM"]="custom"}(o||(o={}));var b={buildMode:"release",datacenter:"us",sdkVersion:"2.18.0"};function m(t){var e=!1,n=Object(u["a"])(),r={},i=function(){},m=function(){},v=new s["a"],O=function(t,e){void 0===e&&(e=Object(d["h"])()),v.add((function(){return O(t,e)}))},T=function(t,e){void 0===e&&(e=Object(d["a"])()),v.add((function(){return T(t,e)}))},C=function(t,e){void 0===e&&(e=R()),v.add((function(){return C(t,e)}))},g=function(t,e){void 0===e&&(e=R()),v.add((function(){return g(t,e)}))};function R(){return Object(c["l"])({context:n.get(),user:r})}function h(o){if(Object(a["b"])(Object(f["b"])(o))&&Object(a["c"])()&&j(o)){o.publicApiKey&&(o.clientToken=o.publicApiKey);var u=Object(a["d"])(o,b),d=u.configuration,l=u.internalMonitoring;if(d.trackViewsManually){var p=v;v=new s["a"],T=function(t){E(t)},p.drain()}else E();m=function(){return Object(c["l"])(o)},e=!0}function E(e){var a;a=t(o,d,l,(function(){return{user:r,context:n.get()}}),e),T=a.startView,C=a.addAction,g=a.addError,O=a.addTiming,i=a.getInternalContext,v.drain()}}var y=Object(a["f"])({init:Object(l["d"])(h),addRumGlobalContext:Object(l["d"])(n.add),removeRumGlobalContext:Object(l["d"])(n.remove),getRumGlobalContext:Object(l["d"])(n.get),setRumGlobalContext:Object(l["d"])(n.set),getInternalContext:Object(l["d"])((function(t){return i(t)})),getInitConfiguration:Object(l["d"])((function(){return m()})),addAction:Object(l["d"])((function(t,e){C({name:t,context:Object(c["l"])(e),startClocks:Object(d["a"])(),type:o.CUSTOM})})),addUserAction:function(t,e){y.addAction(t,e)},addError:function(t,e,n){void 0===n&&(n=p["b"].CUSTOM);var r=Object(p["c"])();Object(l["c"])((function(){var i;n===p["b"].CUSTOM||n===p["b"].NETWORK||n===p["b"].SOURCE?i=n:(E["a"].error("DD_RUM.addError: Invalid source '"+n+"'"),i=p["b"].CUSTOM),g({error:t,handlingStack:r,context:Object(c["l"])(e),source:i,startClocks:Object(d["a"])()})}))},addTiming:Object(l["d"])((function(t){O(t)})),setUser:Object(l["d"])((function(t){var e=_(t);e?r=e:E["a"].error("Unsupported user:",t)})),removeUser:Object(l["d"])((function(){r={}})),startView:Object(l["d"])((function(t){T(t)}))});return y;function _(t){if("object"===typeof t&&t){var e=Object(c["l"])(t);return"id"in e&&(e.id=String(e.id)),"name"in e&&(e.name=String(e.name)),"email"in e&&(e.email=String(e.email)),e}}function j(t){return e?(t.silentMultipleInit||E["a"].error("DD_RUM is already initialized."),!1):t&&(t.clientToken||t.publicApiKey)?t.applicationId?void 0===t.sampleRate||Object(c["w"])(t.sampleRate)?void 0===t.resourceSampleRate||Object(c["w"])(t.resourceSampleRate)?!Array.isArray(t.allowedTracingOrigins)||0===t.allowedTracingOrigins.length||void 0!==t.service||(E["a"].error("Service need to be configured when tracing is enabled"),!1):(E["a"].error("Resource Sample Rate should be a number between 0 and 100"),!1):(E["a"].error("Sample Rate should be a number between 0 and 100"),!1):(E["a"].error("Application ID is not configured, no RUM data will be collected."),!1):(E["a"].error("Client Token is not configured, we will not send any data."),!1)}}function v(){var t=[],e=O(),n=e?new e(Object(l["d"])(r)):void 0;function r(){t.forEach((function(t){return t()}))}function i(){n&&n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}function o(){n&&n.disconnect()}return{subscribe:function(e){return t.length||i(),t.push(e),{unsubscribe:function(){t=t.filter((function(t){return e!==t})),t.length||o()}}}}}function O(){var t,e=window;if(e.Zone){var n=e.Zone.__symbol__("MutationObserver");t=e[n]}return t||(t=e.MutationObserver),t}var T,C=n("9ab4");(function(t){t[t["PERFORMANCE_ENTRY_COLLECTED"]=0]="PERFORMANCE_ENTRY_COLLECTED",t[t["AUTO_ACTION_CREATED"]=1]="AUTO_ACTION_CREATED",t[t["AUTO_ACTION_COMPLETED"]=2]="AUTO_ACTION_COMPLETED",t[t["AUTO_ACTION_DISCARDED"]=3]="AUTO_ACTION_DISCARDED",t[t["VIEW_CREATED"]=4]="VIEW_CREATED",t[t["VIEW_UPDATED"]=5]="VIEW_UPDATED",t[t["VIEW_ENDED"]=6]="VIEW_ENDED",t[t["REQUEST_STARTED"]=7]="REQUEST_STARTED",t[t["REQUEST_COMPLETED"]=8]="REQUEST_COMPLETED",t[t["SESSION_RENEWED"]=9]="SESSION_RENEWED",t[t["BEFORE_UNLOAD"]=10]="BEFORE_UNLOAD",t[t["RAW_RUM_EVENT_COLLECTED"]=11]="RAW_RUM_EVENT_COLLECTED",t[t["RUM_EVENT_COLLECTED"]=12]="RUM_EVENT_COLLECTED",t[t["RECORD_STARTED"]=13]="RECORD_STARTED",t[t["RECORD_STOPPED"]=14]="RECORD_STOPPED",t[t["RAW_ERROR_COLLECTED"]=15]="RAW_ERROR_COLLECTED"})(T||(T={}));var g=function(){function t(){this.callbacks={}}return t.prototype.notify=function(t,e){var n=this.callbacks[t];n&&n.forEach((function(t){return t(e)}))},t.prototype.subscribe=function(t,e){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter((function(t){return e!==t}))}}},t}(),R=n("6758"),h="initial_document",y=[[c["g"].DOCUMENT,function(t){return h===t}],[c["g"].XHR,function(t){return"xmlhttprequest"===t}],[c["g"].FETCH,function(t){return"fetch"===t}],[c["g"].BEACON,function(t){return"beacon"===t}],[c["g"].CSS,function(t,e){return/\.css$/i.test(e)}],[c["g"].JS,function(t,e){return/\.js$/i.test(e)}],[c["g"].IMAGE,function(t,e){return Object(c["t"])(["image","img","icon"],t)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(e)}],[c["g"].FONT,function(t,e){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(e)}],[c["g"].MEDIA,function(t,e){return Object(c["t"])(["audio","video"],t)||null!==/\.(mp3|mp4)$/i.exec(e)}]];function _(t){var e=t.name;if(!Object(R["c"])(e))return Object(l["b"])('Failed to construct URL for "'+t.name+'"'),c["g"].OTHER;for(var n=Object(R["b"])(e),r=0,i=y;r<i.length;r++){var o=i[r],a=o[0],u=o[1];if(u(t.initiatorType,n))return a}return c["g"].OTHER}function j(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=1;n<t.length;n+=1)if(t[n-1]>t[n])return!1;return!0}function S(t){return"xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType}function A(t){var e=t.duration,n=t.startTime,r=t.responseEnd;return 0===e&&n<r?Object(d["i"])(Object(d["d"])(n,r)):(e>c["a"]&&Object(l["b"])("resource duration > 1 day",{debug:{type:t.initiatorType,name:t.name,startTime:Math.round(n),responseEnd:Math.round(r),duration:Math.round(e),relativeNow:Math.round(Object(d["f"])()),timeStampNow:Object(d["h"])()}}),Object(d["i"])(e))}function I(t){var e=D(t);if(e){var n=e.startTime,r=e.fetchStart,i=e.redirectStart,o=e.redirectEnd,a=e.domainLookupStart,c=e.domainLookupEnd,u=e.connectStart,s=e.secureConnectionStart,d=e.connectEnd,f=e.requestStart,l=e.responseStart,p=e.responseEnd,E={download:L(n,l,p),first_byte:L(n,f,l)};return d!==r&&(E.connect=L(n,u,d),j(u,s,d)&&(E.ssl=L(n,s,d))),c!==r&&(E.dns=L(n,a,c)),w(t)&&(E.redirect=L(n,i,o)),E}}function D(t){if(j(t.startTime,t.fetchStart,t.domainLookupStart,t.domainLookupEnd,t.connectStart,t.connectEnd,t.requestStart,t.responseStart,t.responseEnd)){if(!w(t))return t;var e=t.redirectStart,n=t.redirectEnd;if(e<t.startTime&&(e=t.startTime),n<t.startTime&&(n=t.fetchStart),j(t.startTime,e,n,t.fetchStart))return Object(C["a"])(Object(C["a"])({},t),{redirectEnd:n,redirectStart:e})}}function w(t){return t.fetchStart!==t.startTime}function L(t,e,n){return{duration:Object(d["i"])(Object(d["d"])(e,n)),start:Object(d["i"])(Object(d["d"])(t,e))}}function N(t){if(t.startTime<t.responseStart)return t.decodedBodySize}function k(t,e){return e&&!t.isIntakeUrl(e)}var U=2*c["d"];function x(t){var e=M(t)||P(t);if(e&&!(e.traceTime<=Date.now()-U))return e.traceId}function M(t){var e=t.querySelector("meta[name=dd-trace-id]"),n=t.querySelector("meta[name=dd-trace-time]");return W(e&&e.content,n&&n.content)}function P(t){var e=V(t);if(e)return W(Object(c["n"])(e,"trace-id"),Object(c["n"])(e,"trace-time"))}function W(t,e){var n=e&&Number(e);if(t&&n)return{traceId:t,traceTime:n}}function V(t){for(var e=0;e<t.childNodes.length;e+=1){var n=F(t.childNodes[e]);if(n)return n}if(t.body)for(e=t.body.childNodes.length-1;e>=0;e-=1){var r=t.body.childNodes[e];n=F(r);if(n)return n;if(!q(r))break}}function F(t){if(t&&H(t)){var e=/^\s*DATADOG;(.*?)\s*$/.exec(t.data);if(e)return e[1]}}function H(t){return"#comment"===t.nodeName}function q(t){return"#text"===t.nodeName}function B(){return void 0!==window.performance&&"getEntries"in performance}function K(t){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(t)}function Y(){return"function"===typeof PerformanceEntry}function G(t,e){if(z((function(n){Z(t,e,n)})),B()&&X(t,e,performance.getEntries()),window.PerformanceObserver){var n=new PerformanceObserver(Object(l["d"])((function(n){return X(t,e,n.getEntries())}))),r=["resource","navigation","longtask","paint","largest-contentful-paint","first-input","layout-shift"];n.observe({entryTypes:r}),B()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",(function(){performance.clearResourceTimings()}))}K("navigation")||Q((function(n){Z(t,e,n)})),K("first-input")||J((function(n){Z(t,e,n)}))}function z(t){Object(c["E"])("interactive",(function(){var e,n={entryType:"resource",initiatorType:h,traceId:x(document)};if(K("navigation")&&performance.getEntriesByType("navigation").length>0){var r=performance.getEntriesByType("navigation")[0];e=Object(C["a"])(Object(C["a"])({},r.toJSON()),n)}else{var i=$();e=Object(C["a"])(Object(C["a"])(Object(C["a"])({},i),{decodedBodySize:0,duration:i.responseEnd,name:window.location.href,startTime:0}),n)}t(e)}))}function Q(t){function e(){t(Object(C["a"])(Object(C["a"])({},$()),{entryType:"navigation"}))}Object(c["E"])("complete",(function(){setTimeout(Object(l["d"])(e))}))}function J(t){var e=Date.now(),n=!1,r=Object(c["i"])(window,["click","mousedown","keydown","touchstart","pointerdown"],(function(t){if(t.cancelable){var e={entryType:"first-input",processingStart:Object(d["f"])(),startTime:t.timeStamp};"pointerdown"===t.type?i(e):o(e)}}),{passive:!0,capture:!0}).stop;function i(t){Object(c["i"])(window,["pointerup","pointercancel"],(function(e){"pointerup"===e.type&&o(t)}),{once:!0})}function o(i){if(!n){n=!0,r();var o=i.processingStart-i.startTime;o>=0&&o<Date.now()-e&&t(i)}}}function $(){var t={},e=performance.timing;for(var n in e)if(Object(c["v"])(e[n])){var r=n,i=e[r];t[r]=0===i?0:Object(d["e"])(i)}return t}function X(t,e,n){n.forEach((function(n){"resource"!==n.entryType&&"navigation"!==n.entryType&&"paint"!==n.entryType&&"longtask"!==n.entryType&&"largest-contentful-paint"!==n.entryType&&"first-input"!==n.entryType&&"layout-shift"!==n.entryType||Z(t,e,n)}))}function Z(t,e,n){tt(n)||et(e,n)||t.notify(T.PERFORMANCE_ENTRY_COLLECTED,n)}function tt(t){return"navigation"===t.entryType&&t.loadEventEnd<=0}function et(t,e){return"resource"===e.entryType&&!k(t,e.name)}var nt,rt=n("3e20"),it=n("70a4");(function(t){t["SYNTHETICS"]="synthetics",t["USER"]="user"})(nt||(nt={}));var ot=["view.url","view.referrer","action.target.name","error.message","error.stack","error.resource.url","resource.url"],at=Object(C["d"])(ot,["context"]);function ct(t,e,n,r,i,o){var a=Object(rt["a"])(e,(function(t){n.notify(T.RAW_ERROR_COLLECTED,{error:t})}));n.subscribe(T.RAW_RUM_EVENT_COLLECTED,(function(u){var s=u.startTime,f=u.rawRumEvent,p=u.domainContext,E=u.savedCommonContext,b=u.customerContext,m=i.findView(s),v=r.getPlan();if(v&&m&&m.session.id===r.getId()){var O=i.findAction(s),C=E||o(),g={_dd:{format_version:2,drift:Object(d["c"])(),session:{plan:v}},application:{id:t},date:Object(d["h"])(),service:e.service,session:{type:dt()}},R=st(f)?Object(c["k"])(g,m,O,f):Object(c["k"])(g,m,f);R.context=Object(c["k"])(C.context,b),"has_replay"in R.session||(R.session.has_replay=C.hasReplay),Object(c["u"])(C.user)||(R.usr=C.user),ut(R,e.beforeSend,p,a)&&(Object(c["u"])(R.context)&&delete R.context,"number"!==typeof R.date&&Object(l["b"])("invalid date",{debug:{eventType:R.type,eventTimeStamp:R.date,eventRelativeTime:Math.round(s),timeStampNow:Object(d["h"])(),relativeNow:Math.round(Object(d["f"])()),drift:Object(d["c"])()}}),n.notify(T.RUM_EVENT_COLLECTED,R))}}))}function ut(t,e,n,i){if(e){var o=Object(it["a"])(t,t.type===r.VIEW?ot:at,(function(t){return e(t,n)}));if(!1===o&&t.type!==r.VIEW)return!1;!1===o&&E["a"].warn("Can't dismiss view events using beforeSend!")}return t.type!==r.ERROR||!i.isLimitReached()}function st(t){return-1!==[r.ERROR,r.RESOURCE,r.LONG_TASK].indexOf(t.type)}function dt(){return void 0===window._DATADOG_SYNTHETICS_BROWSER?nt.USER:nt.SYNTHETICS}var ft=500,lt=[];function pt(t){if(!t.isEnabled("track-foreground"))return{getInForeground:function(){},getInForegroundPeriods:function(){},stop:c["z"]};document.hasFocus()&&Et();var e=mt(Et).stop,n=vt(bt).stop;return{getInForeground:Ot,getInForegroundPeriods:Tt,stop:function(){lt=[],e(),n()}}}function Et(){if(lt.length>ft)Object(l["b"])("Reached maximum of foreground time");else{var t=lt[lt.length-1];void 0===t||void 0!==t.end?lt.push({start:Object(d["f"])()}):Object(l["b"])("Previous foreground periods not closed. Continuing current one",{inForegroundPeriodsCount:lt.length,currentForegroundPeriodStart:t.start})}}function bt(){if(0!==lt.length){var t=lt[lt.length-1];void 0===t.end?t.end=Object(d["f"])():Object(l["b"])("Current foreground period already closed",{inForegroundPeriodsCount:lt.length,currentForegroundPeriodStart:t.start,currentForegroundPeriodEnd:t.end})}else Object(l["b"])("No foreground period")}function mt(t){return Object(c["h"])(window,"focus",(function(){return t()}))}function vt(t){return Object(c["h"])(window,"blur",(function(){return t()}))}function Ot(t){for(var e=lt.length-1;e>=0;e--){var n=lt[e];if(void 0!==n.end&&t>n.end)break;if(t>n.start&&(void 0===n.end||t<n.end))return!0}return!1}function Tt(t,e){for(var n=t+e,r=[],i=lt.length-1;i>=0;i--){var o=lt[i];if(void 0!==o.end&&t>o.end)break;if(!(n<o.start)){var a=t>o.start?t:o.start,c=Object(d["d"])(t,a),u=void 0===o.end||n<o.end?n:o.end,s=Object(d["d"])(a,u);r.unshift({start:Object(d["i"])(c),duration:Object(d["i"])(s)})}}return r}function Ct(t,e,n){return{get:function(r){var i=n.findView(r);if(e.isTracked()&&i&&i.session.id){var o=n.findAction(r);return{application_id:t,session_id:i.session.id,user_action:o?{id:o.action.id}:void 0,view:i.view}}}}}var gt=n("d0ad"),Rt=gt["a"],ht=5*c["d"],yt=c["d"];function _t(t,e){var n,r,i,o=[],a=[];t.subscribe(T.VIEW_CREATED,(function(t){n=t,i=e.getId()})),t.subscribe(T.VIEW_UPDATED,(function(t){n&&n.id===t.id&&(n=t)})),t.subscribe(T.VIEW_ENDED,(function(t){var e=t.endClocks;n&&(o.unshift({endTime:e.relative,context:s(),startTime:n.startClocks.relative}),n=void 0)})),t.subscribe(T.AUTO_ACTION_CREATED,(function(t){r=t})),t.subscribe(T.AUTO_ACTION_COMPLETED,(function(t){r&&a.unshift({context:f(),endTime:r.startClocks.relative+t.duration,startTime:r.startClocks.relative}),r=void 0})),t.subscribe(T.AUTO_ACTION_DISCARDED,(function(){r=void 0})),t.subscribe(T.SESSION_RENEWED,(function(){o=[],a=[],n=void 0,r=void 0}));var c=setInterval(Object(l["d"])((function(){u(o,Rt),u(a,ht)})),yt);function u(t,e){var n=Object(d["f"])()-e;while(t.length>0&&t[t.length-1].startTime<n)t.pop()}function s(){return{session:{id:i},view:{id:n.id,name:n.name,referrer:n.referrer,url:n.location.href}}}function f(){return{action:{id:r.id}}}function p(t,e,n,r){if(void 0===r)return n?t():void 0;if(n&&r>=n.startClocks.relative)return t();for(var i=0,o=e;i<o.length;i++){var a=o[i];if(r>a.endTime)break;if(r>=a.startTime)return a.context}}return{findAction:function(t){return p(f,a,r,t)},findView:function(t){return p(s,o,n,t)},stop:function(){clearInterval(c)}}}var jt=n("bb62"),St=n("be2e");function At(t){0!==t.status||t.isAborted||(t.traceId=void 0,t.spanId=void 0)}function It(t){return{clearTracingIfNeeded:At,traceFetch:function(e){return Dt(t,e,(function(t){var n;if(e.input instanceof Request&&!(null===(n=e.init)||void 0===n?void 0:n.headers))e.input=new Request(e.input),Object.keys(t).forEach((function(n){e.input.headers.append(n,t[n])}));else{e.init=Object(C["a"])({},e.init);var r=[];e.init.headers instanceof Headers?e.init.headers.forEach((function(t,e){r.push([e,t])})):Array.isArray(e.init.headers)?e.init.headers.forEach((function(t){r.push(t)})):e.init.headers&&Object.keys(e.init.headers).forEach((function(t){r.push([t,e.init.headers[t]])})),e.init.headers=r.concat(Object(c["A"])(t))}}))},traceXhr:function(e,n){return Dt(t,e,(function(t){Object.keys(t).forEach((function(e){n.setRequestHeader(e,t[e])}))}))}}}function Dt(t,e,n){Lt()&&wt(t,e.url)&&(e.traceId=new Ut,e.spanId=new Ut,n(kt(e.traceId,e.spanId)))}function wt(t,e){for(var n=Object(R["a"])(e),r=0,i=t.allowedTracingOrigins;r<i.length;r++){var o=i[r];if(n===o||o instanceof RegExp&&o.test(n))return!0}return!1}function Lt(){return void 0!==Nt()}function Nt(){return window.crypto||window.msCrypto}function kt(t,e){return{"x-datadog-origin":"rum","x-datadog-parent-id":e.toDecimalString(),"x-datadog-sampled":"1","x-datadog-sampling-priority":"1","x-datadog-trace-id":t.toDecimalString()}}var Ut=function(){function t(){this.buffer=new Uint8Array(8),Nt().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return t.prototype.toString=function(t){var e=this.readInt32(0),n=this.readInt32(4),r="";while(1){var i=e%t*4294967296+n;if(e=Math.floor(e/t),n=Math.floor(i/t),r=(i%t).toString(t)+r,!e&&!n)break}return r},t.prototype.toDecimalString=function(){return this.toString(10)},t.prototype.readInt32=function(t){return 16777216*this.buffer[t]+(this.buffer[t+1]<<16)+(this.buffer[t+2]<<8)+this.buffer[t+3]},t}(),xt=1;function Mt(t,e){var n=It(e);Pt(t,e,n),Wt(t,e,n)}function Pt(t,e,n){var r=Object(jt["b"])();return r.beforeSend((function(r,i){k(e,r.url)&&(n.traceXhr(r,i),r.requestIndex=Vt(),t.notify(T.REQUEST_STARTED,{requestIndex:r.requestIndex}))})),r.onRequestComplete((function(r){k(e,r.url)&&(n.clearTracingIfNeeded(r),t.notify(T.REQUEST_COMPLETED,{duration:r.duration,method:r.method,requestIndex:r.requestIndex,responseText:r.responseText,spanId:r.spanId,startClocks:r.startClocks,status:r.status,traceId:r.traceId,type:c["f"].XHR,url:r.url,xhr:r.xhr}))})),r}function Wt(t,e,n){var r=Object(St["b"])();return r.beforeSend((function(r){k(e,r.url)&&(n.traceFetch(r),r.requestIndex=Vt(),t.notify(T.REQUEST_STARTED,{requestIndex:r.requestIndex}))})),r.onRequestComplete((function(r){k(e,r.url)&&(n.clearTracingIfNeeded(r),t.notify(T.REQUEST_COMPLETED,{duration:r.duration,method:r.method,requestIndex:r.requestIndex,responseText:r.responseText,responseType:r.responseType,spanId:r.spanId,startClocks:r.startClocks,status:r.status,traceId:r.traceId,type:c["f"].FETCH,url:r.url,response:r.response,init:r.init,input:r.input}))})),r}function Vt(){var t=xt;return xt+=1,t}function Ft(t,e){void 0===e&&(e=c["z"]);var n={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},i=t.subscribe(T.RUM_EVENT_COLLECTED,(function(t){var i=t.type;switch(i){case r.ERROR:n.errorCount+=1,e(n);break;case r.ACTION:n.userActionCount+=1,e(n);break;case r.LONG_TASK:n.longTaskCount+=1,e(n);break;case r.RESOURCE:n.resourceCount+=1,e(n);break}}));return{stop:function(){i.unsubscribe()},eventCounts:n}}var Ht=n("4a0c"),qt=100,Bt=100,Kt=1e4;function Yt(t,e,n){var r=Gt(t,e),i=r.observable,o=r.stop,a=zt(i,o,n).stop,c=function(){a(),o()};return{stop:c}}function Gt(t,e){var n,r=new Ht["a"],i=[],o=0;function a(){r.notify({isBusy:o>0})}return i.push(e.subscribe((function(){return a()}))),i.push(t.subscribe(T.PERFORMANCE_ENTRY_COLLECTED,(function(t){"resource"===t.entryType&&a()}))),i.push(t.subscribe(T.REQUEST_STARTED,(function(t){void 0===n&&(n=t.requestIndex),o+=1,a()}))),i.push(t.subscribe(T.REQUEST_COMPLETED,(function(t){void 0===n||t.requestIndex<n||(o-=1,a())}))),{observable:r,stop:function(){i.forEach((function(t){return t.unsubscribe()}))}}}function zt(t,e,n){var r,i=!1,o=setTimeout(Object(l["d"])((function(){return u({hadActivity:!1})})),qt),a=setTimeout(Object(l["d"])((function(){return u({hadActivity:!0,endTime:Object(d["h"])()})})),Kt);t.subscribe((function(t){var e=t.isBusy;clearTimeout(o),clearTimeout(r);var n=Object(d["h"])();e||(r=setTimeout(Object(l["d"])((function(){return u({hadActivity:!0,endTime:n})})),Bt))}));var c=function(){i=!0,clearTimeout(o),clearTimeout(r),clearTimeout(a),e()};function u(t){i||(c(),n(t))}return{stop:c}}var Qt="data-dd-action-name";function Jt(t,e){return $t(t,Qt)||e&&$t(t,e)||ie(t,ee)||ie(t,ne)||""}function $t(t,e){var n;if(fe())n=t.closest("["+e+"]");else{var r=t;while(r){if(r.hasAttribute(e)){n=r;break}r=r.parentElement}}if(n){var i=n.getAttribute(e);return ae(oe(i.trim()))}}var Xt,Zt,te,ee=[function(t){if(de()){if("labels"in t&&t.labels&&t.labels.length>0)return ue(t.labels[0])}else if(t.id){var e=t.ownerDocument&&t.ownerDocument.querySelector('label[for="'+t.id.replace('"','\\"')+'"]');return e&&ue(e)}},function(t){if("INPUT"===t.nodeName){var e=t,n=e.getAttribute("type");if("button"===n||"submit"===n||"reset"===n)return e.value}},function(t){if("BUTTON"===t.nodeName||"LABEL"===t.nodeName||"button"===t.getAttribute("role"))return ue(t)},function(t){return t.getAttribute("aria-label")},function(t){var e=t.getAttribute("aria-labelledby");if(e)return e.split(/\s+/).map((function(e){return ce(t,e)})).filter((function(t){return Boolean(t)})).map(ue).join(" ")},function(t){return t.getAttribute("alt")},function(t){return t.getAttribute("name")},function(t){return t.getAttribute("title")},function(t){return t.getAttribute("placeholder")},function(t){if("options"in t&&t.options.length>0)return ue(t.options[0])}],ne=[function(t){return ue(t)}],re=10;function ie(t,e){var n=t,r=0;while(r<=re&&n&&"BODY"!==n.nodeName&&"HTML"!==n.nodeName&&"HEAD"!==n.nodeName){for(var i=0,o=e;i<o.length;i++){var a=o[i],c=a(n);if("string"===typeof c){var u=c.trim();if(u)return ae(oe(u))}}if("FORM"===n.nodeName)break;n=n.parentElement,r+=1}}function oe(t){return t.replace(/\s+/g," ")}function ae(t){return t.length>100?Object(c["F"])(t,100)+" [...]":t}function ce(t,e){return t.ownerDocument?t.ownerDocument.getElementById(e):null}function ue(t){if(!t.isContentEditable){if("innerText"in t){var e=t.innerText;if(!se())for(var n=t.querySelectorAll("script, style"),r=0;r<n.length;r+=1){var i=n[r].innerText;i.trim().length>0&&(e=e.replace(i,""))}return e}return t.textContent}}function se(){if(void 0===Xt){var t=document.createElement("style");t.textContent="*";var e=document.createElement("div");e.appendChild(t),document.body.appendChild(e),Xt=""===e.innerText,document.body.removeChild(e)}return Xt}function de(){return void 0===Zt&&(Zt="labels"in HTMLInputElement.prototype),Zt}function fe(){return void 0===te&&(te="closest"in HTMLElement.prototype),te}function le(t,e,n){var r=n.actionNameAttribute,i=pe(t,e);t.subscribe(T.VIEW_CREATED,(function(){i.discardCurrent()}));var a=Object(c["h"])(window,"click",(function(t){if(t.target instanceof Element){var e=Jt(t.target,r);e&&i.create(o.CLICK,e,t)}}),{capture:!0}).stop;return{stop:function(){i.discardCurrent(),a()}}}function pe(t,e){var n,r;return{create:function(i,o,a){if(!n){var c=new Ee(t,i,o,a);n=c,r=Yt(t,e,(function(t){t.hadActivity?c.complete(t.endTime):c.discard(),n=void 0}))}},discardCurrent:function(){n&&(r.stop(),n.discard(),n=void 0)}}}var Ee=function(){function t(t,e,n,r){this.lifeCycle=t,this.type=e,this.name=n,this.event=r,this.id=Object(c["o"])(),this.startClocks=Object(d["a"])(),this.eventCountsSubscription=Ft(t),this.lifeCycle.notify(T.AUTO_ACTION_CREATED,{id:this.id,startClocks:this.startClocks})}return t.prototype.complete=function(t){var e=this.eventCountsSubscription.eventCounts;this.lifeCycle.notify(T.AUTO_ACTION_COMPLETED,{counts:{errorCount:e.errorCount,longTaskCount:e.longTaskCount,resourceCount:e.resourceCount},duration:Object(d["d"])(this.startClocks.timeStamp,t),id:this.id,name:this.name,startClocks:this.startClocks,type:this.type,event:this.event}),this.eventCountsSubscription.stop()},t.prototype.discard=function(){this.lifeCycle.notify(T.AUTO_ACTION_DISCARDED),this.eventCountsSubscription.stop()},t}();function be(t,e,n,r){return t.subscribe(T.AUTO_ACTION_COMPLETED,(function(e){return t.notify(T.RAW_RUM_EVENT_COLLECTED,me(e,r))})),n.trackInteractions&&le(t,e,n),{addAction:function(e,n){t.notify(T.RAW_RUM_EVENT_COLLECTED,Object(C["a"])({savedCommonContext:n},me(e,r)))}}}function me(t,e){var n=ve(t)?{action:{error:{count:t.counts.errorCount},id:t.id,loading_time:Object(d["i"])(t.duration),long_task:{count:t.counts.longTaskCount},resource:{count:t.counts.resourceCount}}}:void 0,i=ve(t)?void 0:t.context,o=Object(c["k"])({action:{id:Object(c["o"])(),target:{name:t.name},type:t.type},date:t.startClocks.timeStamp,type:r.ACTION},n),a=e.getInForeground(t.startClocks.relative);return void 0!==a&&(o.view={in_foreground:a}),{customerContext:i,rawRumEvent:o,startTime:t.startClocks.relative,domainContext:ve(t)?{event:t.event}:{}}}function ve(t){return t.type!==o.CUSTOM}var Oe,Te=n("b200"),Ce=n("6461"),ge=n("d132"),Re=n("4f53");function he(t,e,n){var r=new Ht["a"];return Object(Te["a"])(r),Object(Ce["a"])(r),e.isEnabled("remove-network-errors")||Object(ge["a"])(e,r),r.subscribe((function(e){return t.notify(T.RAW_ERROR_COLLECTED,{error:e})})),ye(t,n)}function ye(t,e){return t.subscribe(T.RAW_ERROR_COLLECTED,(function(n){var r=n.error,i=n.customerContext,o=n.savedCommonContext;t.notify(T.RAW_RUM_EVENT_COLLECTED,Object(C["a"])({customerContext:i,savedCommonContext:o},je(r,e)))})),{addError:function(e,n){var r=e.error,i=e.handlingStack,o=e.startClocks,a=e.context,c=e.source,u=_e(r,i,o,c);t.notify(T.RAW_ERROR_COLLECTED,{customerContext:a,savedCommonContext:n,error:u})}}}function _e(t,e,n,r){var i=t instanceof Error?Object(Re["b"])(t):void 0;return Object(C["a"])(Object(C["a"])({startClocks:n,source:r,originalError:t},Object(p["e"])(i,t,"Provided",e)),{handling:p["a"].HANDLED})}function je(t,e){var n={date:t.startClocks.timeStamp,error:{id:Object(c["o"])(),message:t.message,resource:t.resource?{method:t.resource.method,status_code:t.resource.statusCode,url:t.resource.url}:void 0,source:t.source,stack:t.stack,handling_stack:t.handlingStack,type:t.type,handling:t.handling},type:r.ERROR},i=e.getInForeground(t.startClocks.relative);return void 0!==i&&(n.view={in_foreground:i}),{rawRumEvent:n,startTime:t.startClocks.relative,domainContext:{error:t.originalError}}}function Se(t){t.subscribe(T.PERFORMANCE_ENTRY_COLLECTED,(function(e){if("longtask"===e.entryType){var n=Object(d["g"])(e.startTime),i={date:n.timeStamp,long_task:{id:Object(c["o"])(),duration:Object(d["i"])(e.duration)},type:r.LONG_TASK};t.notify(T.RAW_RUM_EVENT_COLLECTED,{rawRumEvent:i,startTime:n.relative,domainContext:{performanceEntry:e.toJSON()}})}}))}function Ae(t){if(performance&&"getEntriesByName"in performance){var e=performance.getEntriesByName(t.url,"resource");if(e.length&&"toJSON"in e[0]){var n=e.map((function(t){return t.toJSON()})).filter(D).filter((function(e){return we(e,t.startClocks.relative,De({startTime:t.startClocks.relative,duration:t.duration}))}));return 1===n.length?n[0]:2===n.length&&Ie(n)?n[1]:void 0}}}function Ie(t){return De(t[0])<=t[1].startTime}function De(t){return t.startTime+t.duration}function we(t,e,n){var r=1;return t.startTime>=e-r&&De(t)<=n+r}function Le(t,e){t.subscribe(T.REQUEST_COMPLETED,(function(n){e.isTrackedWithResource()&&t.notify(T.RAW_RUM_EVENT_COLLECTED,Ne(n))})),t.subscribe(T.PERFORMANCE_ENTRY_COLLECTED,(function(n){e.isTrackedWithResource()&&"resource"===n.entryType&&!S(n)&&t.notify(T.RAW_RUM_EVENT_COLLECTED,ke(n))}))}function Ne(t){var e=t.type===c["f"].XHR?c["g"].XHR:c["g"].FETCH,n=Ae(t),i=n?Object(d["g"])(n.startTime):t.startClocks,o=n?Ue(n):void 0,a=xe(t),u=Object(c["k"])({date:i.timeStamp,resource:{id:Object(c["o"])(),type:e,duration:Object(d["i"])(t.duration),method:t.method,status_code:t.status,url:t.url},type:r.RESOURCE},a,o);return{startTime:i.relative,rawRumEvent:u,domainContext:{performanceEntry:n&&Pe(n),xhr:t.xhr,response:t.response,requestInput:t.input,requestInit:t.init,error:t.error}}}function ke(t){var e=_(t),n=Ue(t),i=Me(t),o=Object(d["g"])(t.startTime),a=Object(c["k"])({date:o.timeStamp,resource:{id:Object(c["o"])(),type:e,url:t.name},type:r.RESOURCE},i,n);return{startTime:o.relative,rawRumEvent:a,domainContext:{performanceEntry:Pe(t)}}}function Ue(t){return{resource:Object(C["a"])({duration:A(t),size:N(t)},I(t))}}function xe(t){var e=t.traceId&&t.spanId;if(e)return{_dd:{span_id:t.spanId.toDecimalString(),trace_id:t.traceId.toDecimalString()}}}function Me(t){return t.traceId?{_dd:{trace_id:t.traceId}}:void 0}function Pe(t){return Y()&&t instanceof PerformanceEntry&&t.toJSON(),t}function We(t){return void 0===t&&(t=window),Oe||("hidden"===document.visibilityState?Oe={timeStamp:0}:(Oe={timeStamp:1/0},Object(c["h"])(t,"pagehide",(function(t){var e=t.timeStamp;Oe.timeStamp=e}),{capture:!0,once:!0}).stop)),Oe}function Ve(t,e){var n;function r(t){n=Object(C["a"])(Object(C["a"])({},n),t),e(n)}var i=Fe(t,r).stop,o=He(t,(function(t){return r({firstContentfulPaint:t})})).stop,a=qe(t,window,(function(t){r({largestContentfulPaint:t})})).stop,c=Be(t,(function(t){var e=t.firstInputDelay,n=t.firstInputTime;r({firstInputDelay:e,firstInputTime:n})})).stop;return{stop:function(){i(),o(),a(),c()}}}function Fe(t,e){var n=t.subscribe(T.PERFORMANCE_ENTRY_COLLECTED,(function(t){"navigation"===t.entryType&&e({domComplete:t.domComplete,domContentLoaded:t.domContentLoadedEventEnd,domInteractive:t.domInteractive,loadEvent:t.loadEventEnd})})).unsubscribe;return{stop:n}}function He(t,e){var n=We(),r=t.subscribe(T.PERFORMANCE_ENTRY_COLLECTED,(function(t){"paint"===t.entryType&&"first-contentful-paint"===t.name&&t.startTime<n.timeStamp&&(t.startTime>c["a"]&&Object(l["b"])("FCP > 1 day",{debug:{fcp:Math.round(t.startTime),relativeNow:Math.round(Object(d["f"])()),timeStampNow:Object(d["h"])()}}),e(t.startTime))})).unsubscribe;return{stop:r}}function qe(t,e,n){var r=We(),i=1/0,o=Object(c["i"])(e,["pointerdown","keydown"],(function(t){i=t.timeStamp}),{capture:!0,once:!0}).stop,a=t.subscribe(T.PERFORMANCE_ENTRY_COLLECTED,(function(t){"largest-contentful-paint"===t.entryType&&t.startTime<i&&t.startTime<r.timeStamp&&(t.startTime>c["a"]&&Object(l["b"])("LCP > 1 day",{debug:{lcp:Math.round(t.startTime),relativeNow:Math.round(Object(d["f"])()),timeStampNow:Object(d["h"])()}}),n(t.startTime))})).unsubscribe;return{stop:function(){o(),a()}}}function Be(t,e){var n=We(),r=t.subscribe(T.PERFORMANCE_ENTRY_COLLECTED,(function(t){if("first-input"===t.entryType&&t.startTime<n.timeStamp){var r=Object(d["d"])(t.startTime,t.processingStart);e({firstInputDelay:r>=0?r:0,firstInputTime:t.startTime})}})).unsubscribe;return{stop:r}}function Ke(t){var e=Ge(t).stop,n=ze(t).stop;return{stop:function(){e(),n()}}}function Ye(t,e){return t.pathname!==e.pathname||!Qe(e.hash)&&Je(e.hash)!==Je(t.hash)}function Ge(t){var e=history.pushState;history.pushState=Object(l["d"])((function(){e.apply(this,arguments),t()}));var n=history.replaceState;history.replaceState=Object(l["d"])((function(){n.apply(this,arguments),t()}));var r=Object(c["h"])(window,"popstate",t).stop,i=function(){r(),history.pushState=e,history.replaceState=n};return{stop:i}}function ze(t){return Object(c["h"])(window,"hashchange",t)}function Qe(t){var e=t.substr(1);return!!document.getElementById(e)}function Je(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}function $e(t,e,n,r){var i,o={eventCounts:{errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0}},a=Ft(t,(function(t){o.eventCounts=t,n()})).stop,u=Xe(r,(function(t){o.loadingTime=t,n()})),s=u.setActivityLoadingTime,d=u.setLoadEvent,f=Ze(t,e,s).stop;return en()?(o.cumulativeLayoutShift=0,i=tn(t,(function(t){o.cumulativeLayoutShift=Object(c["D"])(o.cumulativeLayoutShift+t,4),n()})).stop):i=c["z"],{stop:function(){a(),f(),i()},setLoadEvent:d,viewMetrics:o}}function Xe(t,e){var n=t===i.INITIAL_LOAD,r=!0,o=[];function a(){!r&&!n&&o.length>0&&e(Math.max.apply(Math,o))}return{setLoadEvent:function(t){n&&(n=!1,o.push(t),a())},setActivityLoadingTime:function(t){r&&(r=!1,void 0!==t&&o.push(t),a())}}}function Ze(t,e,n){var r=Object(d["h"])(),i=Yt(t,e,(function(t){t.hadActivity?n(Object(d["d"])(r,t.endTime)):n(void 0)})).stop;return{stop:i}}function tn(t,e){var n=t.subscribe(T.PERFORMANCE_ENTRY_COLLECTED,(function(t){"layout-shift"!==t.entryType||t.hadRecentInput||e(t.value)})).unsubscribe;return{stop:n}}function en(){return K("layout-shift")}var nn=3e3,rn=5*c["d"];function on(t,e,n,r,o){var a=!1,c=b(o),u=c.stop,s=c.initialView,f=s,p=v().stop,E=(r?O():C()).stop;function b(r){var o=an(e,n,t,a,i.INITIAL_LOAD,document.referrer,Object(d["b"])(),r),c=Ve(e,(function(t){o.updateTimings(t),o.scheduleUpdate()})).stop;return{initialView:o,stop:c}}function m(r,o){return an(e,n,t,a,i.ROUTE_CHANGE,f.url,r,o)}function v(){e.subscribe(T.SESSION_RENEWED,(function(){f.end(),f=m(void 0,f.name)})),e.subscribe(T.BEFORE_UNLOAD,(function(){f.end(),f.triggerUpdate()})),e.subscribe(T.RECORD_STARTED,(function(){a=!0,f.updateHasReplay(!0)})),e.subscribe(T.RECORD_STOPPED,(function(){a=!1}));var t=window.setInterval(Object(l["d"])((function(){f.triggerUpdate()})),rn);return{stop:function(){clearInterval(t)}}}function O(){return Ke((function(){if(Ye(f.getLocation(),t))return f.end(),f.triggerUpdate(),void(f=m());f.updateLocation(t),f.triggerUpdate()}))}function C(){return Ke((function(){f.updateLocation(t),f.triggerUpdate()}))}return{addTiming:function(t,e){void 0===e&&(e=Object(d["h"])()),f.addTiming(t,e),f.triggerUpdate()},startView:function(t,e){f.end(e),f.triggerUpdate(),f=m(e,t)},stop:function(){E(),u(),p(),f.end()}}}function an(t,e,n,r,i,o,a,u){void 0===a&&(a=Object(d["a"])());var s,f=Object(c["o"])(),p={},E={},b=0,m=Object(C["a"])({},n),v=r;t.notify(T.VIEW_CREATED,{id:f,name:u,startClocks:a,location:m,referrer:o});var O=Object(c["G"])(Object(l["d"])(S),nn,{leading:!1}),g=O.throttled,R=O.cancel,h=$e(t,e,g,i),y=h.setLoadEvent,_=h.stop,j=h.viewMetrics;function S(){b+=1;var e=void 0===s?Object(d["h"])():s.timeStamp;t.notify(T.VIEW_UPDATED,Object(C["a"])(Object(C["a"])({},j),{customTimings:E,documentVersion:b,id:f,name:u,loadingType:i,location:m,hasReplay:v,referrer:o,startClocks:a,timings:p,duration:Object(d["d"])(a.timeStamp,e),isActive:void 0===s}))}return S(),{name:u,scheduleUpdate:g,end:function(e){void 0===e&&(e=Object(d["a"])()),s=e,_(),t.notify(T.VIEW_ENDED,{endClocks:s})},getLocation:function(){return m},triggerUpdate:function(){R(),S()},updateTimings:function(t){p=t,void 0!==t.loadEvent&&y(t.loadEvent)},addTiming:function(t,e){E[cn(t)]=Object(d["d"])(a.timeStamp,e)},updateLocation:function(t){m=Object(C["a"])({},t)},updateHasReplay:function(t){v=t},get url(){return m.href}}}function cn(t){var e=t.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return e!==t&&E["a"].warn("Invalid timing name: "+t+", sanitized to: "+e),e}function un(t,e,n,r,i,o){return t.subscribe(T.VIEW_UPDATED,(function(e){return t.notify(T.RAW_RUM_EVENT_COLLECTED,sn(e,i))})),on(n,t,r,!e.trackViewsManually,o)}function sn(t,e){var n={_dd:{document_version:t.documentVersion},date:t.startClocks.timeStamp,type:r.VIEW,view:{action:{count:t.eventCounts.userActionCount},cumulative_layout_shift:t.cumulativeLayoutShift,dom_complete:Object(d["i"])(t.timings.domComplete),dom_content_loaded:Object(d["i"])(t.timings.domContentLoaded),dom_interactive:Object(d["i"])(t.timings.domInteractive),error:{count:t.eventCounts.errorCount},first_contentful_paint:Object(d["i"])(t.timings.firstContentfulPaint),first_input_delay:Object(d["i"])(t.timings.firstInputDelay),first_input_time:Object(d["i"])(t.timings.firstInputTime),is_active:t.isActive,name:t.name,largest_contentful_paint:Object(d["i"])(t.timings.largestContentfulPaint),load_event:Object(d["i"])(t.timings.loadEvent),loading_time:Object(d["i"])(t.loadingTime),loading_type:t.loadingType,long_task:{count:t.eventCounts.longTaskCount},resource:{count:t.eventCounts.resourceCount},time_spent:Object(d["i"])(t.duration),in_foreground_periods:e.getInForegroundPeriods(t.startClocks.relative,t.duration)},session:{has_replay:t.hasReplay||void 0}};return Object(c["u"])(t.customTimings)||(n.view.custom_timings=Object(c["y"])(t.customTimings,d["i"])),{rawRumEvent:n,startTime:t.startClocks.relative,domainContext:{location:t.location}}}var dn,fn,ln="rum";function pn(t,e){var n=Object(gt["c"])(t.cookieOptions,ln,(function(e){return mn(t,e)}));return n.renewObservable.subscribe((function(){e.notify(T.SESSION_RENEWED)})),{getId:n.getId,getPlan:function(){return bn(n)},isTracked:function(){return En(n)},isTrackedWithResource:function(){return void 0!==n.getId()&&n.getTrackingType()===fn.TRACKED_WITH_RESOURCES}}}function En(t){return void 0!==t.getId()&&On(t.getTrackingType())}function bn(t){return En(t)?dn.REPLAY:void 0}function mn(t,e){var n;return n=vn(e)?e:Object(c["C"])(t.sampleRate)?Object(c["C"])(t.resourceSampleRate)?fn.TRACKED_WITH_RESOURCES:fn.TRACKED_WITHOUT_RESOURCES:fn.NOT_TRACKED,{trackingType:n,isTracked:On(n)}}function vn(t){return t===fn.NOT_TRACKED||t===fn.TRACKED_WITH_RESOURCES||t===fn.TRACKED_WITHOUT_RESOURCES}function On(t){return t===fn.TRACKED_WITH_RESOURCES||t===fn.TRACKED_WITHOUT_RESOURCES}(function(t){t[t["LITE"]=1]="LITE",t[t["REPLAY"]=2]="REPLAY"})(dn||(dn={})),function(t){t["NOT_TRACKED"]="0",t["TRACKED_WITH_RESOURCES"]="1",t["TRACKED_WITHOUT_RESOURCES"]="2"}(fn||(fn={}));var Tn=n("37ba");function Cn(t,e){var n=gn(t,e);return e.subscribe(T.RUM_EVENT_COLLECTED,(function(t){t.type===r.VIEW?n.upsert(t,t.view.id):n.add(t)})),{stop:function(){n.stop()}}}function gn(t,e){var n,r=o(t.rumEndpoint,(function(){return e.notify(T.BEFORE_UNLOAD)})),i=t.replica;function o(e,n){return new Tn["a"](new Tn["b"](e,t.batchBytesLimit,!0),t.maxBatchSize,t.batchBytesLimit,t.maxMessageSize,t.flushTimeout,n)}function a(t){return Object(c["k"])(t,{application:{id:i.applicationId}})}void 0!==i&&(n=o(i.rumEndpoint));var u=!1;return{add:function(t){u||(r.add(t),n&&n.add(a(t)))},stop:function(){u=!0},upsert:function(t,e){u||(r.upsert(t,e),n&&n.upsert(a(t),e))}}}function Rn(t,e,n,r,i){var o=new g,a=pn(e,o),u=v();n.setExternalContextProvider((function(){return Object(c["k"])({application_id:t.applicationId},d.findView(),r().context)}));var s=hn(t.applicationId,o,e,a,r),d=s.parentContexts,f=s.foregroundContexts;Se(o),Le(o,a);var l=un(o,e,location,u,f,i),p=l.addTiming,E=l.startView,b=he(o,e,f).addError,m=be(o,u,e,f).addAction;Mt(o,e),G(o,e);var O=Ct(t.applicationId,a,d);return{addAction:m,addError:b,addTiming:p,startView:E,lifeCycle:o,parentContexts:d,session:a,getInternalContext:O.get}}function hn(t,e,n,r,i){var o=_t(e,r),a=pt(n),c=Cn(n,e);return ct(t,n,e,r,o,i),{parentContexts:o,foregroundContexts:a,stop:function(){c.stop(),o.stop(),a.stop()}}}var yn=m(Rn);Object(a["e"])(Object(c["p"])(),"DD_RUM",yn)}}]);
//# sourceMappingURL=browser-rum.43aca1d6.js.map